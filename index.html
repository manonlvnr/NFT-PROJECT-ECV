<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title></title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tw-elements/dist/css/index.min.css" />
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
    tailwind.config = {
        theme: {
        extend: {
            fontFamily: {
            sans: ['Inter', 'sans-serif'],
            },
        }
        }
    }
    </script>
</head>

<body>

<script src="https://cdn.jsdelivr.net/npm/tw-elements/dist/js/index.min.js"></script>
</body>
<script type="text/javascript">

    const root = document.querySelector('body');


    function createElement(tag, config, parent = null) {
        
        // const { text, color } = config || {};
        const { src, href } = config || {};

        const element = document.createElement(tag);

        // if (color) {
        //     element.style.color = color;
        // }

        // if (text) {
        //     element.innerHTML = text;
        // }

        if (src) {
            element.src = src;
            element.style.width = '150px';
            element.style.height = '150px';
            element.href = href;
        }

        if (!parent) {
            root.appendChild(element);
        } else {
            parent.appendChild(element);
        }
        return element;
    }

    const nftContainer = createElement('div');
    const data = ['Hello', 'world', 'toto', 'tata'];

    // Créateur
    // Nombre de ventes
    // Détails des produits NFT
    // Liste des produits NFT

    function createCards(assets) {
        assets.forEach(el => {

            // Créer un élément img avec l'url de l'image et le mettre dans la variable myDiv

            createElement('img', {
                src: el.image_url,
                href: '#'
            }, nftContainer);

            console.log(el.image_url)
        })
    }



    async function callApi() {
        // Call api  https://awesome-nft-app.herokuapp.com/ and get image with fetch, try
        // Create cards with data
        try {

            const response = await fetch('https://awesome-nft-app.herokuapp.com/');
            const data = await response.json();
            const assets = data.assets;

            createCards(assets);

            console.log(assets)

        } catch (error) {

            console.log(error);

        }



    }

    callApi();


</script>

</html>